[script]
n0=;##################################################################################################
n1=;                    !ПРОСЬБА: НЕ ТРОГАЙТЕ НИЧЕГО НЕ ЗНАКОМОГО ВАМ РУКАМИ ИНАЧЕ ОНО СЛОМАЕТСЯ :)
n2=;##################################################################################################
n3=;
n4=;                                                                    R E M O T E      S C R I P T S      4
n5=;
n6=;                                #     #     #     #     #     #     #     #     #     #     #     #     #     #     #     #     #     # 
n7=;                                       #                            NEORA TRION Various Scripts                               #
n8=;                                              #                 Copyright 1999-2001 NEORA Group                    #
n9=;                                                      #           trion@neora.ru     www.NEORA.ru            #
n10=;                                                              #     #     #     #     #     #     #     #    #    # 
n11=;;;;;;;;
n12=;===> Interface options
n13=;;;;;;;;
n14=dialog viewoptions {
n15=  title "INTERFACE options"
n16=  option dbu
n17=  size -1 -1 220 175
n18=  menu "NickServ",400
n19=  item "Идентификация",401
n20=  item break,409
n21=  item "Регистрация",402
n22=  item "Сброс ника",412
n23=  item break,210
n24=  menu "Изменение",411,400
n25=  item "Опций ника",403,411
n26=  item "Информации",404
n27=  item break,413,400
n28=  item "Маски ника",405
n29=  item "Возврат ника",406
n30=  item break,414
n31=  item "Log событий",407
n32=  menu "ChanServ",420
n33=  item "Идентификация",421
n34=  item break,428
n35=  item "Регистрация",422
n36=  item "Сброс ника",432
n37=  item break,429
n38=  menu "Изменение",430,420
n39=  item "Опций канала",423,430
n40=  item "Mode Lock",424
n41=  item "Информации",425
n42=  item break,431,420
n43=  menu "Списки канала",433,420
n44=  item "Супер Оp",426
n45=  item "Авто Оp",436
n46=  item "Авто Kick",446
n47=  item break,434,420
n48=  item "Log событий",427
n49=  menu "MemoServ",450
n50=  item "Читать",451
n51=  item "Писать",452
n52=  item break,454
n53=  item "Направить",453
n54=  menu "Общие",460
n55=  item "Ники",461
n56=  item "Каналы",462
n57=  item break,468
n58=  item "CTCP",463
n59=  item break,469
n60=  item "Away",464
n61=  item "Топики",465
n62=  item break,470
n63=  item "Kick\Ban",466
n64=  item break,471
n65=  item "Quits",467
n66=  menu "Защита",479
n67=  menu "Flood защита",480,479
n68=  item "CTCP Flood",481
n69=  item "Text Flood",482
n70=  item "Other Flood",483
n71=  item break,485
n72=  item "Flood Kicks",484
n73=  menu "Личная защита",490,479
n74=  item "Ban защита",491
n75=  item "Kick защита",492
n76=  item "DeOp защита",493
n77=  item break,495
n78=  item "Auto Join",494
n79=  menu "Interface",500
n80=  item "Skin браузер",501
n81=  item "Шрифты",502
n82=  item "F*-Keys",503
n83=  menu "Разное",510
n84=  item "Стилизатор",511
n85=  item "Цензура",512
n86=  item "Реклама",513
n87=  item break,519
n88=  item "Другое",514
n89=  tab "        Skin браузер          ",1, 3 0 214 150
n90=  tab "            Шрифты             ",2
n91=  tab "         F-клавиши           ",3
n92=  button "Закрыть",10, 175 153 42 10, cancel
n93=  text "Активный:",42, 20 20 27 8, tab 1
n94=  text "",43, 48 20 54 8, tab 1
n95=  text "Список загруженых Скинов:",20, 20 30 80 8, tab 1
n96=  list 21, 20 40 80 90, tab 1
n97=  button "Отключить Скины",22, 20 137 80 10, tab 1
n98=  button "Сменить на выбранный",23, 20 126 80 10, tab 1
n99=  text "Preview (Эмблема):",24, 110 20 60 8, tab 1
n100=  icon 35, 110 28 99 33, Pics\emblem.jpg, 1, noborder, hide, tab 1
n101=  text "Наличие заставки:",36, 110 64 50 8, tab 1
n102=  text "",38, 160 64 15 8, tab 1
n103=  button "Смотреть",37, 175 63 34 9, disable, tab 1
n104=  box "",25, 106 72 107 57, tab 1
n105=  text "Автор скина:",26, 110 79 35 8, tab 1
n106=  text "",27, 145 79 65 10, tab 1
n107=  text "ICQ:",28, 113 100 15 8, tab 1
n108=  text "",41, 128 100 60 8, tab 1
n109=  text "eMail:",29, 113 90 15 8, tab 1
n110=  text "Не указан",39, 128 90 60 8, hide, tab 1
n111=  link "",30, 128 90 82 8, tab 1
n112=  text "URL:",31, 113 111 15 8, tab 1
n113=  link "",32, 128 111 82 16, tab 1
n114=  text "Не указан",40, 128 111 60 8, hide, tab 1
n115=  text "NEORA Skin Browser v2.1",33, 142 131 70 7, tab 1
n116=  text "©NEORA Group,1999-2001",34, 142 138 70 7, tab 1
n117=  text "      Внимание! Для того, чтобы данные изменения вступили в силу, Вам необходимо перезапустить mIRC сразу после нажатия на кнопку ''Готово''.",80, 10 18 200 14, tab 2, center
n118=  text "Предоосмотр:",81, 15 36 36 8, tab 2
n119=  combo 82, 54 35 70 100, drop, tab 2  
n120=  text "размер:",83, 126 36 20 8, tab 2
n121=  combo 84, 148 35 20 100, drop, tab 2
n122=  button "Смотреть",85, 172 35 30 10, disable, tab 2
n123=  radio "Единый шрифт для всех окон:",86, 20 50 86 8, group, tab 2
n124=  text "Шрифт:",87, 33 62 18 8, tab 2
n125=  combo 88, 54 61 70 100, drop, tab 2  
n126=  text "размер:",89, 126 62 20 8, tab 2
n127=  combo 90, 148 61 20 100, drop, tab 2
n128=  check "Bold",111, 175 62 20 8, tab 2
n129=  radio "Разные шрифты для разных типов окон:",91, 20 75 120 8, tab 2
n130=  text "Окно Status:",92, 20 87 33 8, tab 2
n131=  combo 93, 54 86 70 100, drop, tab 2  
n132=  text "размер:",94, 126 87 20 8, tab 2
n133=  combo 95, 148 86 20 100, drop, tab 2
n134=  check "Bold",112, 175 87 20 8, tab 2
n135=  text "Каналы:",96, 30 99 23 8, tab 2
n136=  combo 97, 54 98 70 100, drop, tab 2  
n137=  text "размер:",98, 126 99 20 8, tab 2
n138=  combo 99, 148 98 20 100, drop, tab 2
n139=  check "Bold",113, 175 99 20 8, tab 2
n140=  text "Приваты:",100, 28 111 25 8, tab 2
n141=  combo 101, 54 110 70 100, drop, tab 2  
n142=  text "размер:",102, 126 111 20 8, tab 2
n143=  combo 103, 148 110 20 100, drop, tab 2
n144=  check "Bold",114, 175 111 20 8, tab 2
n145=  text "Прочие:",104, 32 123 20 8, tab 2
n146=  combo 105, 54 122 70 100, drop, tab 2  
n147=  text "размер:",106, 126 123 20 8, tab 2
n148=  combo 107, 148 122 20 100, drop, tab 2
n149=  check "Bold",115, 175 123 20 8, tab 2
n150=  button "ГОТОВО",108, 54 136 140 10, tab 2
n151=  box "",120, 7 13 206 45, tab 3
n152=  radio "Без клавиш",221, 10 43 66 10, group, push, tab 3
n153=  radio "SHIFT"222, 76 43 68 10, push, tab 3
n154=  radio "CTRL"223, 144 43 66 10, push, tab 3
n155=  radio "F1",141, 10 20 15 13, group, push, disable, tab 3
n156=  radio "F2",142, 26 20 15 13, disable, push, tab 3
n157=  radio "F3",143, 42 20 15 13, disable, push, tab 3
n158=  radio "F4",144, 58 20 15 13, disable, push, tab 3
n159=  radio "F5",145, 78 20 15 13, disable, push, tab 3
n160=  radio "F6",146, 94 20 15 13, disable, push, tab 3
n161=  radio "F7",147, 110 20 15 13, disable, push, tab 3
n162=  radio "F8",148, 126 20 15 13, disable, push, tab 3
n163=  radio "F9",149, 146 20 15 13, disable, push, tab 3
n164=  radio "F10",150, 162 20 15 13, disable, push, tab 3
n165=  radio "F11",151, 178 20 15 13, disable, push, tab 3
n166=  radio "F12",152, 194 20 15 13, disable, push, tab 3
n167=  text "",161, 10 33 15 8, center, tab 3
n168=  text "",162, 26 33 15 8, center, tab 3
n169=  text "",163, 42 33 15 8, center, tab 3
n170=  text "",164, 58 33 15 8, center, tab 3
n171=  text "",165, 78 33 15 8, center, tab 3
n172=  text "",166, 94 33 15 8, center, tab 3
n173=  text "",167, 110 33 15 8, center, tab 3
n174=  text "",168, 126 33 15 8, center, tab 3
n175=  text "",169, 146 33 15 8, center, tab 3
n176=  text "",170, 162 33 15 8, center, tab 3
n177=  text "",171, 178 33 15 8, center, tab 3
n178=  text "",172, 194 33 15 8, center, tab 3
n179=  box "",180, 7 54 206 92, tab 3
n180=  text "Разделы:                              Команды (и их обозначения):",181, 10 60 150 7, tab 3
n181=  combo 182, 10 68 60 100, drop, tab 3 
n182=  list 183, 78 68 130 80, disable, tab 3
n183=  button "Отменить",184, 10 80 60 12, disable, tab 3
n184=  button "Снять",185, 10 96 60 10, disable, tab 3
n185=  button "Очистить",186, 10 107 60 10, tab 3
n186=  button "Предустановка",187, 10 120 60 10, tab 3
n187=  button "Список",188, 10 131 60 10, tab 3
n188=}
n189=on 1:dialog:viewoptions:init:0:{
n190=  if (%ActivSkinName == noskin) { did -i $dname 43 1 Скин не установлен. | did -b $dname 22,23 } 
n191=  else { did -i $dname 43 1 %ActivSkinName | set %SkinViewFName %ActivSkinName $+ .skn }
n192=  SkinListIns 
n193=  if ($isalias(skinintro) == $true) { did -e $dname 37 }
n194=  FontListIns $dname 
n195=  if ($ini(mirc.ini,fonts,0) != $null) {
n196=    var %FontR = $FontINIread(fchannel)
n197=    if ($FontINIread(fstatus) == %FontR && $FontINIread(fquery) == %FontR && $FontINIread(flist) == %FontR ) {
n198=      did -c $dname 86 | did -b $dname 92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,112,113,114,115
n199=      did -c $dname 88 $FontNConvOUT($FontINInum(n)) 
n200=      did -c $dname 90 $FontSConvOUT($FontINInum(s)) 
n201=      if ($FontINInum(s) > 700) did -c $dname 111
n202=    }
n203=    else {
n204=      did -c $dname 91 | did -b $dname 87,88,89,90,111
n205=      did -c $dname 93 $FontNConvOUT($FontINInum(n,fstatus)) | did -c $dname 95 $FontSConvOUT($FontINInum(s,fstatus)) | if ($FontINInum(s,fstatus) > 700) did -c $dname 112
n206=      did -c $dname 97 $FontNConvOUT($FontINInum(n,fchannel)) | did -c $dname 99 $FontSConvOUT($FontINInum(s,fchannel)) | if ($FontINInum(s,fchannel) > 700) did -c $dname 113
n207=      did -c $dname 101 $FontNConvOUT($FontINInum(n,fquery)) | did -c $dname 103 $FontSConvOUT($FontINInum(s,fquery)) | if ($FontINInum(s,fquery) > 700) did -c $dname 114
n208=      did -c $dname 105 $FontNConvOUT($FontINInum(n,flist)) | did -c $dname 107 $FontSConvOUT($FontINInum(s,flist)) | if ($FontINInum(s,flist) > 700) did -c $dname 115
n209=    }
n210=  }
n211=  FKeyINIT viewoptions
n212=}
n213=on 1:dialog:viewoptions:dclick:*:{
n214=  if ($did == 30) { run mailto: [ $+ [ $did(30) ] ] | halt } 
n215=  if ($did == 32) { run $did(32) | halt }
n216=  if ($did == 21) {
n217=    if (%ActivSkinName != noskin) { .unload -rs %ActivSkinName $+ .skn } 
n218=    .load -rs $shortfn($mircdir) $+ Skins\ [ $+ [ %SkinViewFName ] ] 
n219=    set %ActivSkinName $did(21,$did(21).sel).text
n220=    did -i $dname 43 1 %ActivSkinName 
n221=    did -e $dname 22 | NewSkinLoad | halt
n222=  }
n223=}
n224=on 1:dialog:viewoptions:sclick:*:{
n225=  if ($did == 1) { did -v $dname 35 | if (%ActivSkinName == noskin) { did -h $dname 35 } | halt }
n226=  if ($did == 2) { did -h $dname 35 | halt } 
n227=  if ($did == 3) { did -h $dname 35 | halt } 
n228=  if ($did == 10) { 
n229=    if ($window(@NEO-StyliZator) != $null) { window -c @NEO-StyliZator | window -c @StyleInfo } 
n230=    if ($window(@StyleView) != $null) { window -c @StyleView }
n231=  }
n232=  if ($did == 21) { 
n233=    did -e $dname 23 | did -v $dname 35 | %SkinViewFName = $did(21,$did(21).sel).text $+ .skn 
n234=    if (%ActivSkinName != noskin) { .unload -rs %ActivSkinName $+ .skn }
n235=    .load -rs $shortfn($mircdir) $+ Skins\ [ $+ [ %SkinViewFName ] ] 
n236=    if ($isalias(skinPreview) == $true) { did -vg $dname 35 1 $shortfn($mircdir) $+ skins\ [ $+ [ $skinPreview ] ] }
n237=    else { did -vg $dname 35 1 $shortfn($mircdir) $+ Pics\emblem.jpg } 
n238=    if ($isalias(skinauthor) == $true) { did -i $dname 27 1 $skinauthor } | else { did -i $dname 27 1 Автор не указан } 
n239=    if ($isalias(skinintro) == $true) { did -i $dname 38 1 Есть } | else { did -i $dname 38 1 Нет | did -b $dname 37 } 
n240=    if ($isalias(skinauthorEMail ) == $true) { did -h $dname 39 | did -v $dname 30 | did -i $dname 30 1 $skinauthorEMail  } 
n241=    else { did -h $dname 30 | did -v $dname 39 } 
n242=    if ($isalias(skinauthorICQ) == $true) { did -i $dname 41 1 $skinauthorICQ } | else { did -i $dname 41 1 Не указан }
n243=    if ($isalias(skinauthorURL ) == $true) { did -h $dname 40 | did -v $dname 32 | did -i $dname 32 1 $skinauthorURL } 
n244=    else { did -h $dname 32 | did -v $dname 40 }
n245=    .unload -rs %SkinViewFName 
n246=    if (%ActivSkinName != noskin) { .load -rs $shortfn($mircdir) $+ Skins\  $+ [ [ [ %ActivSkinName ] $+ ] .skn ] } | halt
n247=  }
n248=  if ($did == 23) { 
n249=    if (%ActivSkinName != noskin) { .unload -rs %ActivSkinName $+ .skn } 
n250=    .load -rs $shortfn($mircdir) $+ Skins\ [ $+ [ %SkinViewFName ] ] 
n251=    set %ActivSkinName $did(21,$did(21).sel).text
n252=    did -i $dname 43 1 %ActivSkinName 
n253=    did -e $dname 22 | NewSkinLoad | halt 
n254=  }
n255=  if ($did == 22) {
n256=    if (%ActivSkinName != noskin) { .unload -rs %ActivSkinName $+ .skn } | set %ActivSkinName noskin | did -i $dname 43 1 Скин не установлен.
n257=    did -u $dname 21 | did -b $dname 22,23 | did -r $dname 27,30,32,38 | did -h $dname 35 | NoSkinsSet | halt
n258=  }
n259=  if ($did == 37) { dialog -c viewoptions | .timer 1 1 skn.intro }
n260=  if ($did == 82 && $did(84) != $null) { did -e $dname 85 } | if ($did == 84 && $did(82) != $null) { did -e $dname 85 }
n261=  if ($did == 85) { FontChoosPreview }
n262=  if ($did == 86) {
n263=    did -b $dname 92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,112,113,114,115 | did -e $dname 87,88,89,90,111
n264=  }
n265=  if ($did == 91) {
n266=    did -e $dname 92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,112,113,114,115 | did -b $dname 87,88,89,90,111
n267=  }
n268=  if ($did == 108) { 
n269=    if ($?!="Нажав ''Да'' сменятся шрифты и Вам необходимо будет перегрузить mIRC." == $true) {
n270=      if ($did(86).state == 1) { FontSinglSet }
n271=      if ($did(91).state == 1) { FontMultiSet }
n272=    }
n273=  }
n274=  if ($did > 220 && $did < 224) { 
n275=    did -u $dname $calc(%FkeyNumber + 140) 
n276=    %FkeyRegVar = $did - 220 
n277=    did -e $dname 141,142,143,144,145,146,147,148,149,150,151,152,184 
n278=    did -b $dname 183,185
n279=    if (%FkeyRegVar == 1) { set %FkeySect NoKey } 
n280=    if (%FkeyRegVar == 2) { set %FkeySect SHIFT } 
n281=    if (%FkeyRegVar == 3) { set %FkeySect CTRL } 
n282=    FkeyLook
n283=  }
n284=  if ($did > 140 && $did < 153) { if ($did(182,0) != $null) { did -e $dname 183 } | %FkeyNumber = $did - 140 | did -e $dname 185 }
n285=  if ($did == 182) { set %FkeyGrNum $did(182).sel | FkeyGroupIns viewoptions | if ($checkFkeyClick(viewoptions) == on) { did -e $dname 183 } }
n286=  if ($did == 183) { var %FwriteKey = $matchtok($did(183,$did(183).sel),$chr(40),1,160) | %FwriteKey = $mid(%FwriteKey,3,$calc($len(%FwriteKey) - 3) ) | FkeyWrite %FwriteKey %FkeySect }
n287=  if ($did == 184) { 
n288=    did -u $dname $calc(%FkeyNumber + 140) | did -u $dname $calc(%FkeyRegVar + 220) | did -b $dname 183
n289=    did -b $dname 141,142,143,144,145,146,147,148,149,150,151,152,184
n290=    did -r $dname 161,162,163,164,165,166,167,168,169,170,171,172,182,183 | FKeyINIT viewoptions
n291=  }
n292=  if ($did == 185) {
n293=    if ($?!="Снять назначение с данной F-клавиши?" == $true) {
n294=      if ($readini $shortfn($mircdir) $+ texts\FkeyLook.txt %FkeySect %FkeyNumber == Q.sml) { unset % $+ [ QSmileFkey $+ [ %FkeySect $+ [ %FkeyNumber ] ] ] }
n295=      if ($readini $shortfn($mircdir) $+ texts\FkeyLook.txt %FkeySect %FkeyNumber == Q.frs) { unset % $+ [ QFraseFkey $+ [ %FkeySect $+ [ %FkeyNumber ] ] ] }
n296=      remini $shortfn($mircdir) $+ texts\TrionFkeys.txt %FkeySect %FkeyNumber 
n297=      remini $shortfn($mircdir) $+ texts\FkeyLook.txt %FkeySect %FkeyNumber
n298=      did -r $dname $calc(%FkeyNumber + 160)
n299=    }
n300=  }
n301=  if ($did == 186) {
n302=    if ($?!="Снять назначение со всех F-клавиш?" == $true) {
n303=      remini $shortfn($mircdir) $+ texts\TrionFkeys.txt NoKey | remini $shortfn($mircdir) $+ texts\TrionFkeys.txt SHIFT | remini $shortfn($mircdir) $+ texts\TrionFkeys.txt CTRL
n304=      remini $shortfn($mircdir) $+ texts\FkeyLook.txt NoKey | remini $shortfn($mircdir) $+ texts\FkeyLook.txt SHIFT | remini $shortfn($mircdir) $+ texts\FkeyLook.txt CTRL
n305=      did -r $dname 161,162,163,164,165,166,167,168,169,170,171,172,182,183 | FKeyINIT viewoptions
n306=      did -u $dname $calc(%FkeyRegVar + 220) | did -u $dname $calc(%FkeyNumber + 140) | did -b $dname 183
n307=      did -b $dname 141,142,143,144,145,146,147,148,149,150,151,152,184
n308=      unset %QSmileFkey* | unset  %QFraseFkey*
n309=    }
n310=  }
n311=  if ($did == 187) { FkeyPresetInit viewoptions }
n312=  if ($did == 188) { SetFkeyList }
n313=}
n314=menu @FontPreview {
n315=  Открыть:dialog -m viewoptions viewoptions | did -c viewoptions 2
n316=  -
n317=  Закрыть:window -c @FontPreview
n318=}
n319=dialog FontRestart {
n320=  title "Изменение шрифтов"
n321=  option dbu
n322=  size -1 -1 100 37
n323=  text "Шрифты успешно изменены. Перегрузите mIRC",11, 5 5 90 16, center
n324=  button "Закрыть mIRC",10, 5 22 90 12, ok
n325=  button "",12, 5 52 10 10, cancel
n326=}
n327=on 1:dialog:FontRestart:sclick:*:{
n328=  if ($did == 10) { exit }
n329=  if ($did == 12) { .timer 1 1 dialog -mo FontRestart FontRestart }
n330=}
n331=;;;;;;;;
n332=;====> Quick Open Menu Setup
n333=;;;;;;;;
n334=dialog QuickOpenSetup {
n335=  title "Составлене меню быстрого доступа к программам"
n336=  option dbu
n337=  size -1 -1 220 175
n338=  button "Закрыть",10, 170 162 45 10, cancel
n339=  box "Составление пункта меню ''QuickRun''",11, 5 2 210 155
n340=  text "Меню состоит из 6 секций, в первой секции по умолчанию прописан каталог ''TrioN'', остальное редактируется по Вашему желанию.",12, 25 10 178 14
n341=  radio "",13, 15 32 10 10, group
n342=  list 1, 25 25 65 27, disable
n343=  radio "",15, 15 53 10 10
n344=  list 2, 25 47 65 30, disable
n345=  radio "",17, 15 74 10 10
n346=  list 3, 25 69 65 30, disable
n347=  radio "",19, 15 96 10 10
n348=  list 4, 25 91 65 30, disable
n349=  radio "",21, 15 118 10 10
n350=  list 5, 25 113 65 30, disable
n351=  button "Добавить элемент",23, 92 25 112 15
n352=  button "Каталог",24, 92 40 56 12, disable
n353=  button "Файл",25, 148 40 56 12, disable
n354=  button "Удалить элемент",26, 92 55 55 10, disable
n355=  button "Очистить секцию",27, 149 55 55 10 
n356=  text "Путь:",28, 15 142 15 7
n357=  edit "",29, 30 141 135 10, disable, autohs
n358=  button "Edit",30, 165 141 20 10, disable
n359=  button "Save",31, 185 141 20 10, disable
n360=  box "Пункт меню ''QuickRun'' доступен:",32, 102 75 95 50
n361=  check "в меню окна Status",33, 110 88 70 7
n362=  check "в меню каналов",34, 110 99 70 7
n363=  check "в главной строке меню",35, 110 110 70 7
n364=}
n365=on 1:dialog:QuickOpenSetup:*:*:{
n366=  if ($devent == init && $did == 0) {
n367=    if (%QOsNum == 1) { did -c $dname 13 | did -e $dname 1 } 
n368=    if (%QOsNum == 2) { did -c $dname 15 | did -e $dname 2 } 
n369=    if (%QOsNum == 3) { did -c $dname 17 | did -e $dname 3 }
n370=    if (%QOsNum == 4) { did -c $dname 19 | did -e $dname 4 } 
n371=    if (%QOsNum == 5) { did -c $dname 21 | did -e $dname 5 }
n372=    if (%QOmunuS == on) { did -c $dname 33 } | if (%QOmunuC == on) { did -c $dname 34 } | if (%QOmunuM == on) { did -c $dname 35 }
n373=    QOelntIns
n374=  }
n375=  if ($devent == sclick) {
n376=    if ($did == 1) { 
n377=      set %QOchooseElnt $did(1).sel | set %QOchooseElntN $did(1,$did(1).sel) | did -i $dname 29 1 % [ $+ [ QOpath [ $+ [ %QOchooseElntN ] ] ] ]
n378=      did -e $dname 26,30 | did -b $dname 29
n379=    }
n380=    if ($did == 2) { 
n381=      set %QOchooseElnt $did(2).sel | set %QOchooseElntN $did(2,$did(2).sel) | did -i $dname 29 1 % [ $+ [ QOpath [ $+ [ %QOchooseElntN ] ] ] ] 
n382=      did -e $dname 26,30 | did -b $dname 29
n383=    }
n384=    if ($did == 3) { 
n385=      set %QOchooseElnt $did(3).sel | set %QOchooseElntN $did(3,$did(3).sel) | did -i $dname 29 1 % [ $+ [ QOpath [ $+ [ %QOchooseElntN ] ] ] ] 
n386=      did -e $dname 26,30 | did -b $dname 29
n387=    }
n388=    if ($did == 4) { 
n389=      set %QOchooseElnt $did(4).sel | set %QOchooseElntN $did(4,$did(4).sel) | did -i $dname 29 1 % [ $+ [ QOpath [ $+ [ %QOchooseElntN ] ] ] ] 
n390=      did -e $dname 26,30 | did -b $dname 29
n391=    }
n392=    if ($did == 5) { 
n393=      set %QOchooseElnt $did(5).sel | set %QOchooseElntN $did(5,$did(5).sel) | did -i $dname 29 1 % [ $+ [ QOpath [ $+ [ %QOchooseElntN ] ] ] ] 
n394=      did -e $dname 26,30 | did -b $dname 29
n395=    }
n396=    if ($did == 13) { set %QOsNum 1 | did -e $dname 1 | did -b $dname 2,3,4,5 }
n397=    if ($did == 15) { set %QOsNum 2 | did -e $dname 2 | did -b $dname 1,3,4,5 }
n398=    if ($did == 17) { set %QOsNum 3 | did -e $dname 3 | did -b $dname 1,2,4,5 }
n399=    if ($did == 19) { set %QOsNum 4 | did -e $dname 4 | did -b $dname 1,2,3,5 }
n400=    if ($did == 21) { set %QOsNum 5 | did -e $dname 5 | did -b $dname 1,2,3,4 }
n401=    if ($did == 23) { 
n402=      if ($did(%QOsNum).lines >= 5) { dialog -om QOlimit QOlimit | halt }
n403=      did -e $dname 24,25 | did -b $dname 23,26,27,30 
n404=    }
n405=    if ($did == 24) {
n406=      did -e $dname 23,27 | did -b $dname 24,25
n407=      var %tempPath = $shortfn($sdir(C:\,Выбирите каталог:))
n408=      if (%tempPath == $null) { did -b $dname 23,27 | did -e $dname 24,25 | halt }
n409=      set %QOelnt $$?="Введите название элемента (это название будет отображаться в меню ''Открыть''):"
n410=      if ($chr(32) isin %QOelnt) { set %QOelnt $$?="Пробелы в названии элементов меню не допустимы. Придумайте другое название." }
n411=      set %QOpath $+ %QOelnt %tempPath
n412=      if (% [ $+ [ QOpath $+ [ %QOelnt ] ] ] != $null) {
n413=        writeini $shortfn($mircdir) $+ texts\QuickOpen.txt %QOsNum $calc($ini($mircdirtexts\QuickOpen.txt,%QOsNum,0) + 1) %QOelnt
n414=        did -i $dname %QOsNum $calc($did(%QOsNum).lines + 1) %QOelnt
n415=      }
n416=      else { unset % [ $+ [ QOpath [ $+ [ %QOelnt ] ] ] ] }
n417=    }
n418=    if ($did == 25) {
n419=      did -e $dname 23,27 | did -b $dname 24,25
n420=      var %tempPath = $shortfn($sfile(C:\,Выбирите файл:,Готово))
n421=      if (%tempPath == $null) { did -b $dname 23,27 | did -e $dname 24,25 | halt }
n422=      set %QOelnt $$?="Введите название элемента (это название будет отображаться в меню ''Открыть''):"
n423=      if ($chr(32) isin %QOelnt) { set %QOelnt $$?="Пробелы в названии элементов меню не допустимы. Придумайте другое название." }
n424=      set %QOpath $+ %QOelnt %tempPath
n425=      if (% [ $+ [ QOpath $+ [ %QOelnt ] ] ] != $null) {
n426=        writeini $shortfn($mircdir) $+ texts\QuickOpen.txt %QOsNum $calc($ini($mircdirtexts\QuickOpen.txt,%QOsNum,0) + 1) %QOelnt
n427=        did -i $dname %QOsNum $calc($did(%QOsNum).lines + 1) %QOelnt
n428=        .timer 1 1 QOelntIns
n429=      }
n430=      else { unset % [ $+ [ QOpath [ $+ [ %QOelnt ] ] ] ] }
n431=    }
n432=    if ($did == 26) {
n433=      if ($ini($mircdirtexts\QuickOpen.txt,%QOsNum,0) == %QOchooseElnt) {
n434=        remini $shortfn($mircdir) $+ texts\QuickOpen.txt %QOsNum %QOchooseElnt
n435=        unset % [ $+ [ QOpath [ $+ [ %QOchooseElntN ] ] ] ]
n436=        did -b $dname 26,31 | did -r $dname 29
n437=        QOelntIns
n438=      }
n439=      else {  
n440=        var %QOlines = $ini($mircdirtexts\QuickOpen.txt,%QOsNum,0)
n441=        var %QOrewriteInd = 0
n442=        :nextReWrite
n443=        inc %QOrewriteInd
n444=        if ($calc(%QOrewriteInd + %QOchooseElnt) > %QOlines) { 
n445=          remini $shortfn($mircdir) $+ texts\QuickOpen.txt %QOsNum %QOlines 
n446=          unset % [ $+ [ QOpath [ $+ [ %QOchooseElntN ] ] ] ]
n447=          did -b $dname 26 | did -r $dname 29
n448=          QOelntIns
n449=          return 
n450=        }
n451=        writeini $shortfn($mircdir) $+ texts\QuickOpen.txt %QOsNum $calc(%QOchooseElnt + %QOrewriteInd - 1) $&
n452=          $readini $mircdirtexts\QuickOpen.txt %QOsNum $calc(%QOchooseElnt + %QOrewriteInd)
n453=        goto nextReWrite
n454=      }
n455=    }
n456=    if ($did == 27) {
n457=      if ($?!="Хотите удалить всю секцию?" == $true) { var %QOlines = $ini($mircdirtexts\QuickOpen.txt,%QOsNum,0) + 1 }
n458=      else { halt }
n459=      :nextRemoveItem
n460=      if (%QOlines <= 0) { QOelntIns | return }
n461=      dec %QOlines
n462=      unset % [ $+ [ QOpath [ $+ [ $readini $mircdirtexts\QuickOpen.txt %QOsNum %QOlines ] ] ] ]
n463=      remini $shortfn($mircdir) $+ texts\QuickOpen.txt %QOsNum %QOlines
n464=      goto nextRemoveItem
n465=    }
n466=    if ($did == 30) { did -e $dname 29 }
n467=    if ($did == 31) { set %QOpath $+ %QOchooseElntN $did(29) | did -b $dname 31 }
n468=    if ($did == 33) { if ($did(33).state == 1) { set %QOmunuS on } | else { set %QOmunuS off } }
n469=    if ($did == 34) { if ($did(34).state == 1) { set %QOmunuC on } | else { set %QOmunuC off } }
n470=    if ($did == 35) { if ($did(35).state == 1) { set %QOmunuM on } | else { set %QOmunuM off } }
n471=  }
n472=  if ($devent == edit && $did == 29) { did -e $dname 31 }
n473=}
n474=alias QOelntIns {
n475=  did -r QuickOpenSetup 1,2,3,4,5
n476=  var %QOsInd = 0
n477=  :nextsection
n478=  inc %QOsInd
n479=  if (%QOsInd > 5) { return }
n480=  var %QOlines = $ini($mircdirtexts\QuickOpen.txt,%QOsInd,0)
n481=  var %QOind = 0
n482=  if (%QOlines > 0) { goto nextitem } | else { goto nextsection }
n483=  :nextitem
n484=  inc %QOind 
n485=  if (%QOind > %QOlines) { goto nextsection }
n486=  did -i QuickOpenSetup %QOsInd %QOind $readini $mircdirtexts\QuickOpen.txt %QOsInd %QOind 
n487=  goto nextitem
n488=}
n489=dialog QOlimit {
n490=  title "Внимание!"
n491=  option dbu
n492=  size -1 -1 100 50
n493=  text "Предел элементов для одной секции равен 5. Выберите другую секцию или удалите один  из элементов из активной секции.",11, 5 5 90 28, center
n494=  button "ОК", 12, 10 35 80 12, ok
n495=}
n496=;;;;;;;;
n497=;====> Full user INFO dialog
n498=;;;;;;;;
n499=dialog fullinfo {
n500=  title "Информация о выбраном нике - Сканируем......"
n501=  option dbu
n502=  size 10 10 264 165
n503=  button "Закрыть",10, 218 154 40 10, cancel
n504=  box "",11, 2 0 260 151
n505=  text "",20, 10 5 252 8, center
n506=  text "Whois:",21, 15 20 20 8
n507=  text "Хост:",22, 60 20 25 8
n508=  text "",23, 85 20 176 8
n509=  text "Имя:",24, 60 27 20 8
n510=  text "",25, 85 27 176 8
n511=  text "Сервер:",26, 60 34 25 8
n512=  text "",27, 85 34 176 8
n513=  text "Identify:",28, 60 41 25 8
n514=  text "",29, 85 41 176 8
n515=  text "Idle:",30, 60 48 25 8
n516=  text "",31, 85 48 176 8
n517=  text "Каналы:",32, 60 57 25 8
n518=  combo 33, 85 56 80 100, drop
n519=  button "Войти",54, 170 56 35 10
n520=  button "Войти на все",55, 206 56 45 10
n521=  text "NickServ Info:",34, 15 71 35 8
n522=  text "Зарегистрирован:",35, 60 71 53 8
n523=  text "",36, 110 71 130 8
n524=  text "Последний визит:",37, 60 78 53 8
n525=  text "",38, 110 78 130 8
n526=  text "Последний адрес:",39, 60 85 53 8
n527=  text "",40, 110 85 130 8
n528=  text "Опции ника:",41, 60 92 53 8
n529=  text "",42, 110 92 130 8
n530=  text "URL:",48, 60 99 30 8
n531=  link "",49, 110 99 315 15
n532=  text "EMail:",50, 60 106 30 8
n533=  link "",51, 110 106 260 16 
n534=  text "NickServ Acc:",43, 15 117 35 8
n535=  text "",45, 60 117 140 8
n536=  text "ChanServ Acc:",46, 15 128 40 8
n537=  text "",47, 60 128 140 8
n538=  text "ChanServ Why:",52, 15 139 40 8
n539=  text "",53, 60 139 200 8
n540=  box "",58, 42 150 117 13
n541=  text "Сканируем:",59, 12 154 30 8
n542=  text "Завершено",57, 160 154 30 8, center, disable
n543=  text "",56, 44 154 113 8
n544=  button "Доп.",60, 192 154 21 10
n545=  box "Дополнительно",61, 2 164 260 25
n546=  button "Net WhoIs",62, 10 174 40 10
n547=  box "",63,  57 167 1 20
n548=  button "Version",64, 65 174 40 10
n549=  button "Ping",65, 110 174 40 10
n550=  button "Time",66, 155 174 40 10
n551=  box "", 67, 200 167 1 20
n552=  button "reserved button",68, 206 174 50 10, disable
n553=}
n554=on 1:dialog:fullinfo:dclick:*:{
n555=  if ($did == 49) { run $did(49) }
n556=  if ($did == 51) { run mailto: [ $+ [ $did(51) ] ] }
n557=
n558=}
n559=on 1:dialog:fullinfo:sclick:*:{
n560=  if ($did == 10) { .disable #FullinfoNick }
n561=  if ($did == 54) {
n562=    if ($did(33) != $null) {
n563=      if ($left($did(33),1) != #) { join $mid($did(33),2,$calc($len($did(33) - 1))) }
n564=      else { join $did(33) }
n565=    }
n566=  }
n567=  if ($did == 55) {
n568=    var %chInd = 0
n569=    :next
n570=    inc %chInd
n571=    if (%chind > $did(33).lines) { halt }
n572=    if ($left($did(33,%chInd),1) != #) { join $mid($did(33,%chInd),2,$calc($len($did(33,%chInd) - 1))) }
n573=    else { join $did(33,%chInd) }
n574=    goto next
n575=  }
n576=  if ($did == 60) { dialog -s $dname -1 -1 528 390 }
n577=  if ($did == 62) { dialog -mn NetWhoIsScaner NetWhoIsScaner | did -i NetWhoIsScaner 13 0 %fullinfoNick | did -e NetWhoIsScaner 14,17 }
n578=  if ($did == 64) { ctcp %fullinfoNick version }
n579=  if ($did == 65) { ctcp %fullinfoNick ping }
n580=  if ($did == 66) { ctcp %fullinfoNick time }
n581=}
n582=#FullinfoNick off
n583=raw 311:*:did -i fullinfo 23 1 $3 $+ @ $+ $4 | did -i fullinfo 25 1 $6- | did -i fullinfo 56 1  | halt
n584=raw 312:*:did -i fullinfo 27 1 $3 | did -i fullinfo 56 1  | halt
n585=raw 307:*:did -i fullinfo 29 1 YES | did -i fullinfo 56 1  | halt
n586=raw 317:*:did -i fullinfo 31 1 $duration($3) | did -i fullinfo 56 1  | halt 
n587=raw 319:*:ChanInFullInfoIns $3- | did -i fullinfo 56 1  | halt
n588=raw 301:*:halt
n589=raw 313:*:halt
n590=raw 318:*:halt
n591=on ^*:notice:*:*:{
n592=  if ($nick == nickserv) {
n593=    if (info for isin $1-) { did -i fullinfo 56 1  | halt } | if (End of Info isin $1-) { halt }
n594=    if (Currently isin $1-) { halt }
n595=    if (Last seen address isin $1-) { did -i fullinfo 40 1 $5- | did -i fullinfo 56 1  | halt }
n596=    if (Last seen time isin $1-) { did -i fullinfo 38 1 $5- | did -i fullinfo 56 1  | halt }
n597=    if (Time registered isin $1-) { did -i fullinfo 36 1 $4- | did -i fullinfo 56 1  | halt }
n598=    if (Options isin $1-) { did -i fullinfo 42 1 $2- | did -i fullinfo 56 1  | halt }
n599=    if (Time now isin $1-) { did -i fullinfo 56 1  | halt } 
n600=    if (is not registered isin $1-) { did -i fullinfo 36 1 Не зарегистрированый ник | did -i fullinfo 56 1  | halt }
n601=    if (The nick Guest isin $1-) { did -i fullinfo 36 1 Ники типа Guest* не регистрируются | did -i fullinfo 56 1  | halt }
n602=    if (Email isin $1-) { did -i fullinfo 51 1 $strip($4-) }
n603=    if (URL isin $1-) { did -i fullinfo 49 1 $strip($3-) }
n604=    if (ACC isin $1-) { 
n605=      if ($3 == 0) { did -i fullinfo 45 1 Не зарегистрированый ник (ACC 0) }
n606=      if ($3 == 1) { did -i fullinfo 45 1 Не опознан как реальный собственник ника (ACC 1) }
n607=      if ($3 == 2) { did -i fullinfo 45 1 Маска ника совпадает с зарегистрированой (ACC 2) }
n608=      if ($3 == 3) { did -i fullinfo 45 1 Идентифицирован по паролю к нику (ACC 3) }
n609=      did -i fullinfo 56 1  | halt
n610=    }
n611=  }
n612=  if ($nick == chanserv) {
n613=    if ($2 == ACC) { 
n614=      if ($4 == -1) { did -i fullinfo 47 1 Находится в AutoKick List (ACC -1) }
n615=      if ($4 == 0) { did -i fullinfo 47 1 Обычный посетитель (ACC 0) }
n616=      if ($4 == 1) { did -i fullinfo 47 1 Прописан как Auto Op (ACC 1) }
n617=      if ($4 == 2) { did -i fullinfo 47 1 Прописан как Super Op (ACC 2) }
n618=      if ($4 == 3) { did -i fullinfo 47 1 Founder по маске (ACC 3) }
n619=      if ($4 == 4) { did -i fullinfo 47 1 Founder, идентифицирован по нику (ACC 4) }
n620=      if ($4 == 5) { did -i fullinfo 47 1 Founder, идентифицирован по паролю канала (ACC 5) }
n621=      did -i fullinfo 56 1 
n622=      halt
n623=    }
n624=    if ($4 == access) { 
n625=      if (NO isin $3) { did -i fullinfo 53 1 Не прописан на канле  | did -i fullinfo 56 1  }
n626=      if (AOP isin $3) { 
n627=        if ($8 == Identification) { did -i fullinfo 53 1 AOP - Идентифицирован по нику $12 }
n628=        if ($8 == Matches) { did -i fullinfo 53 1 AOP - Опознан по маске ника $16 }
n629=      }
n630=      if (SOP isin $3) { 
n631=        if ($8 == Identification) { did -i fullinfo 53 1 SOP - Идентифицирован по нику $12 }
n632=        if ($8 == Matches) { did -i fullinfo 53 1 SOP - Опознан по маске ника $16 }
n633=      }
n634=      if (Founder isin $3) { did -i fullinfo 53 1 Founder - $7- }
n635=    }
n636=    .dialog -t fullinfo Информация о выбраном нике -> Сканируем -> завершено 
n637=    did -i fullinfo 56 1 
n638=    did -e fullinfo 57
n639=    .timer 1 1 .disable #FullinfoNick
n640=    halt
n641=  }
n642=}
n643=#FullinfoNick end
n644=;;;;;;
n645=;===> Full Channel INFO
n646=;;;;;;
n647=dialog fullChanInfo {
n648=  title "Информация о канале - Сканируем......"
n649=  option dbu
n650=  size -1 -1 220 165
n651=  button "Закрыть",10, 175 154 40 10, cancel
n652=  box "",11, 2 0 214 151
n653=  text "",12, 10 10 200 8, center
n654=  text "ChanServ info:",13, 13 20 35 8
n655=  text "Founder:",14, 21 30 22 8 
n656=  text "",15, 68 30 145 7
n657=  text "Зарегистрирован:",16, 21 38 46 8
n658=  text "",17, 68 38 145 7
n659=  text "Описание:",18, 21 46 26 8
n660=  text "",19, 68 46 145 14
n661=  text "Последний топик:",20, 21 60 46 8
n662=  text "",21, 68 60 145 21
n663=  button "Добавить в Log",22, 21 68 45 9, disable
n664=  text "Опции:",23, 21 81 30 8
n665=  text "",24, 68 81 145 7
n666=  text "Mode Lock:",25, 21 89 40 8
n667=  text "",26, 68 89 145 7
n668=  text "Memo Level:",27, 21 97 40 8
n669=  text "",28, 68 97 145 7
n670=  text "URL:",29, 21 105 25 8
n671=  link "",30, 68 105 145 14
n672=  text "Последний OP:",31, 21 113 45 8
n673=  text "",32, 68 113 145 7
n674=  text "ChanServ count:",33, 13 124 45 8
n675=  text "",34, 68 124 145 7
n676=  text "Сейчас на канале:",35, 13 133 48 8
n677=  text "",36, 68 133 145 7
n678=}
n679=on 1:dialog:fullChanInfo:dclick:*:{
n680=  if ($did == 30) { run $did(30) }
n681=}
n682=on 1:dialog:fullChanInfo:sclick:*:{
n683=  if ($did == 10) { .disable #FullChanInfo }
n684=  if ($did == 22) {
n685=    %currtop = TOPIC: $did(21,1) 
n686=    if (%currtop != $read -w" $+ %currtop $+ " $mircdirtexts\topics.txt) { 
n687=      write $shortfn($mircdir) $+ texts\topics.txt MANUAL SAVED -> $gettok($did(12),2,32) ( $+ $date - $time $+ ) $+ : 
n688=      write $shortfn($mircdir) $+ texts\topics.txt TOPIC: $did(21)
n689=      write $shortfn($mircdir) $+ texts\topics.txt =================
n690=      dialog -ma TopicManuAdd TopicManuAdd
n691=    }
n692=    else { dialog -ma TopicManuExist TopicManuExist }
n693=  }
n694=}
n695=dialog TopicManuExist {
n696=  title "ОШИБКА!"
n697=  option dbu
n698=  size -1 -1 110 35
n699=  button "Закрыть",10, 5 23 100 10, cancel
n700=  text "Данный топик уже есть в Log-файле.",11, 5 3 100 8, center
n701=  button "Смотреть Log-файл",12, 5 13 100 9
n702=}
n703=dialog TopicManuAdd {
n704=  title "Топик сохранён"
n705=  option dbu
n706=  size -1 -1 110 35
n707=  button "Закрыть",10, 5 23 100 10, cancel
n708=  text "Топик удачно внесён в Log-файл.",11, 5 3 100 8, center
n709=  button "Смотреть Log-файл",12, 5 13 100 9
n710=}
n711=on 1:dialog:TopicManuExist:sclick:12:{ run $shortfn($mircdir) $+ texts\topics.txt }
n712=on 1:dialog:TopicManuAdd:sclick:12:{ run $shortfn($mircdir) $+ texts\topics.txt }
n713=#FullChanInfo off
n714=on ^*:notice:*:*:{
n715=  if (chanserv == $nick) {
n716=    if ($1-2 == Info for) { did -i fullChanInfo 12 1 Канал: $left($strip($3),$calc($len($strip($3)) - 1)) }
n717=    if (Founder isin $1-) { did -i fullChanInfo 15 1 $3-4 }
n718=    if (Description isin $1-) { did -i fullChanInfo 19 1 $strip($2-) }
n719=    if (Last Topic isin $1-) { did -i fullChanInfo 21 1 $strip($4-) | did -e fullChanInfo 22 }
n720=    if (Registered isin $1-) { did -i fullChanInfo 17 1 $strip($3-) }
n721=    if (Options isin $1-) { did -i fullChanInfo 24 1 $3- }
n722=    if (Mode Lock isin $1-) { did -i fullChanInfo 26 1 $4- }
n723=    if (Memo Level isin $1-) { did -i fullChanInfo 28 1 $4- }
n724=    if (URL isin $1-) { did -i fullChanInfo 30 1 $3- }
n725=    if (Last opping isin $1-) { did -i fullChanInfo 32 1 $3- }
n726=    if ($1 == Channel:) { 
n727=      did -i fullChanInfo 34 1 $4 $+ $5 - $6 $+ $7 - $8 $+ $9 | .disable #FullChanInfo 
n728=      dialog -t fullChanInfo Информация о канале - Сканируем...... завершено 
n729=    }
n730=    if (You must be an AOp on isin $1-) { 
n731=      did -i fullChanInfo 34 1 Не доступно (вы должны быть не ниже AOp) | .disable #FullChanInfo 
n732=      dialog -t fullChanInfo Информация о канале - Сканируем...... завершено
n733=    }
n734=  }
n735=}
n736=#FullChanInfo end
n737=;;;;;
n738=;===> script modul for AMIP
n739=;;;;;
n740=dialog  WAPlaginControl {
n741=  title "TrioN's script Modul for Advanced mIRC Integration Plug-In (AMIP)"
n742=  option dbu
n743=  size -1 -1 215 175
n744=  button "Закрыть",10, 158 163 42 10, cancel
n745=  tab "   Управление   ",1 , 3 0 209 160
n746=  tab "   Настройки    ",2
n747=  tab "   Quick Panel    ",3
n748=  tab "   About AMIP    ",4
n749=  text "      Это скриптовая часть плагина для Winamp который написал Crazy Coder (aka [Commando]). С согласия автора  ( за что ему огромное спасибо :) и при его участии, Plug-In вошёл в состав NeoRa TrioN."11, 10 20 194 24, tab 4
n750=  text "      С  помощью  данного  плагина  достигается  очень высокая интеграция популярнейших в своих областях программ Winamp и mIRC.",12, 10 41 194 16, tab 4
n751=  text "      Plug-In позволяет посылать в mIRC любую информацию, о том что у Вас играет в данный момент. Информация о песне (такая как Автор, Название, Длина, Битрейт, Размер файла и многое другое) может быть представлена в любом виде.",13, 10 57 194 28, tab 4
n752=  text "      В  свою  очередь,  благодаря  плагину   стало   вожможным   управлять Winamp-ом прямо из mIRC с помощью специальных команд.",14, 10 85 194 16, tab 4
n753=  text "      Постоянно ведется работа по усовершенствованию плагина, все ваши просьбы,  предложения,  благодарности,  маты,  отзывы и т.д. пожалуйста",15, 10 101 194 14, tab 4
n754=  text "присылайте на",16, 10 115 40 8, tab 4
n755=  link "coder@irctoolz.com",17, 50 115 47 7, tab 4
n756=  text "Crazy Coder'у.",18, 99 115 40 8, tab 4
n757=  text "      Кроме этого рекомендуем Вам прочесть информацию о Advanced mIRC ",19, 10 125 194 8, tab 4
n758=  text "Integration Plug-In (AMIP) на",20, 10 133 69 8, tab 4
n759=  link "сайте автора",21, 80 133 34 7, tab 4
n760=  text ", либо в",22, 114 133 20 8, tab 4
n761=  link "help-файле.",23, 136 133 30 7, tab 4
n762=  text "Желаем приятных конектов и хорошей музыки :)",24, 10 145 194 8, center, tab 4
n763=  box "Контрольная панель",32, 10 25 194 118, tab 1
n764=  button "Открыть Winamp",30, 18 36 180 13, tab 1
n765=  button %WinAmpPath,64, 28 50 160 10, tab 1
n766=  box "",65, 10 63 194 53, tab 1
n767=  button "<<< Prev",33, 18 75 40 14, tab 1
n768=  button "« rew",34, 59 76 28 12, tab 1
n769=  button "PLAY", 35, 88 72 40 20, tab 1
n770=  button "ff »",36, 129 76 28 12, tab 1
n771=  button "Next >>>", 37, 158 75 40 14, tab 1
n772=  button "STOP",38, 25 94 83 12, tab 1
n773=  button "PAUSE",39, 109 94 83 12, tab 1
n774=  button "Mute",40, 18 124 17 10, tab 1
n775=  button "Громче",41,119 123 61 12, tab 1
n776=  button "Max.",42, 181 124 17 10, tab 1
n777=  button "Midl",43, 98 124 20 10, center, tab 1
n778=  button "Тише",44, 36 123 61 12, tab 1
n779=  box "Настройка вывода сведений (ТОЛЬКО при уже ЗАПУЩЕНОМ WinAmp)",45, 10 16 194 139, tab 2
n780=  check "Включить\Выключить передачу в mIRC информации о песне",50, 15 25 165 12, tab 2
n781=  combo 51, 25 36 170 50, drop, tab 2 
n782=  box "Составление и выбор вариантов вывода информации о песне:",54, 10 52 194 103, tab 2
n783=  text "Цвет 1:",55, 20 62 20 7, tab 2 
n784=  combo 56, 40 61 60 100, drop, tab 2
n785=  text "Цвет 2:",57, 110 62 20 7, tab 2 
n786=  combo 58, 130 61 60 100, drop, tab 2
n787=  list 61,15 76 185 70, sort, tab 2
n788=  button "Установить",62, 60 142 100 10, disable, tab 2
n789=  button "Открыть AMIP Quick (mini) Panel",79, 30 25 150 13, tab 3
n790=  box "Положение AMIP Quick (mini) Panel",100, 10 46 194 55, tab 3
n791=  button "Выше",101, 75 58 60 11, tab 3
n792=  button "Левее",102, 25 70 60 11, tab 3
n793=  button "Правее",103, 125 70 60 11, tab 3
n794=  text "Шаг:",105, 87 72 12 7, tab 3
n795=  combo 106, 100 70 22 60, drop, edit, tab 3
n796=  button "Ниже",104, 75 82 60 11, tab 3
n797=  box "Настройка показа AMIP Quick (mini) Panel",80, 10 105 194 40, tab 3
n798=  check "Открывать панель автоматически при запуске WinAmp",81, 17 116 160 8, tab 3
n799=  check "Сделать панель перемещаемой",82, 17 130 160 8, tab 3
n800=}
n801=on 1:dialog:WAPlaginControl:dclick:*:{
n802=  if ($did == 17) { run mailto:coder@irctoolz.com }
n803=  if ($did == 21) { run www.irctoolz.com } 
n804=  if ($did == 23) { echo -s Re | dde mPlug help }
n805=}
n806=on 1:dialog:WAPlaginControl:init:0:{ 
n807=  getAMIPstatus | getAMIPoutputMeth ins
n808=  if (%AMIPquickPauto == on) { did -c $dname 81 } | if (%AMIPquickPmove == on) { did -c $dname 82 }
n809=  did -i $dname 51 1 1. Информация о песне видна только Вам (/echo)
n810=  did -i $dname 51 2 2. Информация о песне видна на всех каналах (/ame)
n811=  did -i $dname 51 3 3. Информация видна только на прописаных каналах (/cmsg)
n812=  colourIns $dname 56,58 
n813=  did -i $dname 106 1 1 | did -i $dname 106 2 2 | did -i $dname 106 3 5 | did -i $dname 106 4 10 
n814=  did -i $dname 106 5 20 | did -i $dname 106 6 50 | did -i $dname 106 7 100
n815=  did -i $dname 61 1 [MP3] Artist - Title (Album|Year|Genre) [size] [time] [bit-rate] [freq]
n816=  did -i $dname 61 2 [MP3] Artist - Title (Album|Year|Genre) [size] [time] [Comments]
n817=  did -i $dname 61 3 [MP3] Artist - Title (Album|Year|Genre) [Comments]
n818=  did -i $dname 61 4 [MP3] Artist - Title (Album|Year|Genre) 
n819=  did -i $dname 61 5 [MP3] Artist - Title (Album)
n820=  did -i $dname 61 6 [MP3]::[Artist]:[Title]:[Album]::[time]:[size]:[bit-rate]:[freq]::[Comments]
n821=  did -i $dname 61 7 [MP3]::[Artist]:[Title]:[Album]::[time]:[size]:[bit-rate]:[freq]
n822=  did -i $dname 61 8 [MP3]::[Artist]:[Title]:[Album]::[time]:[size]:[bit-rate]
n823=  did -i $dname 61 9 [MP3]::[Artist]:[Title]:[Album]::[time]:[size]
n824=  did -i $dname 61 10 [MP3]::[Artist]:[Title]:[Album]::[Comments]
n825=  did -i $dname 61 11 [MP3]::[Artist]:[Title]:[Album]
n826=  did -i $dname 61 12 [Genre] Artist - Title - Album (time)(size)(bit-rate)(freq)(Comments)
n827=  did -i $dname 61 13 [Genre] Artist - Title - Album (time)(size)(bit-rate)[freq]
n828=  did -i $dname 61 14 [Genre] Artist - Title - Album (time)(size)(bit-rate)
n829=  did -i $dname 61 15 [Genre] Artist - Title - Album (time)(size)
n830=  did -i $dname 61 16 [Genre] Artist - Title - Album (Comments)
n831=  did -i $dname 61 17 [Genre] Artist - Title - Album
n832=}
n833=on 1:dialog:WAPlaginControl:sclick:*:{
n834=  if ($did == 81) { if ($did(81).state == 1) { set %AMIPquickPauto on }
n835=  else { set %AMIPquickPauto off } }
n836=  if ($did == 82) { if ($did(82).state == 1) { 
n837=      set %AMIPquickPmove on | if ($window(@AMIP_Panel) != $null) { window -c @AMIP_Panel | AMIPminiPanel }
n838=    }
n839=    else { set %AMIPquickPmove off | if ($window(@AMIP_Panel) != $null) { window -c @AMIP_Panel | AMIPminiPanel } } 
n840=  }
n841=  if ($did == 10) { %WAstatus = off }
n842=  if ($did == 2) || ($did >= 32 && $did <= 44) { 
n843=    if (%WAstatus != ok) { 
n844=      if ($dialog(WinAmpIsNotAct) != WinAmpIsNotAct) { dialog -mo WinAmpIsNotAct WinAmpIsNotAct }
n845=      else { dialog -ao WinAmpIsNotAct }
n846=    }
n847=  }
n848=  if ($did == 51) {
n849=    if ($did(51).sel == 1) { set %AMIPoutputChange /echo | getAMIPoutputMeth change }
n850=    if ($did(51).sel == 2) { set %AMIPoutputChange /ame | getAMIPoutputMeth change }
n851=    if ($did(51).sel == 3) { 
n852=      if (%AMIPchanADDhelper == on) { dialog -mn AMIPchanADDQuest AMIPchanADDQuest }
n853=      set %AMIPoutputChange /cmsg | getAMIPoutputMeth change 
n854=    }
n855=  }
n856=  if ($did == 50) { if ($did(50).state == 1) { dde mPlug control on } | else { dde mPlug control off } }
n857=  if ($did == 30) { run $shortfn(%WinAmpPath) | if (%AMIPquickPauto == on) { AMIPminiPanel } | dialog -c $dname | halt }
n858=  if ($did == 64) { set %WinAmpPath $hfile="Укажите Путь к Winamp.exe" C:\ | did -i $dname 64 1 %WinAmpPath }
n859=  if ($did == 40) { dde mPlug control vol 0 } 
n860=  if ($did == 44) { dde mPlug control vdwn }
n861=  if ($did == 43) { dde mPlug control vol 127 }
n862=  if ($did == 41) { dde mPlug control vup }
n863=  if ($did == 42) { dde mPlug control vol 255 } 
n864=  if ($did == 33) { dde mPlug control < } 
n865=  if ($did == 34) { dde mPlug control rew } 
n866=  if ($did == 35) { dde mPlug control play } 
n867=  if ($did == 36) { dde mPlug control ff }
n868=  if ($did == 37) { dde mPlug control > } 
n869=  if ($did == 38) { dde mPlug control stop } 
n870=  if ($did == 39) { dde mPlug control pause }
n871=  if ($did > 55 && $did < 62) {
n872=    if ($did(56,0) != $null && $did(58,0) != $null) { did -e $dname 62 }
n873=    if ($did == 56) { 
n874=      if ($did(56).sel < 11) { %AMIPcol1 = 0 $+ $calc($did(56).sel - 1) }
n875=      else { %AMIPcol1 =  $+ $calc($did(56).sel - 1) }
n876=    }
n877=    if ($did == 58) { 
n878=      if ($did(58).sel < 11) { %AMIPcol2 = 0 $+ $calc($did(58).sel - 1) }
n879=      else { %AMIPcol2 =  $+ $calc($did(58).sel - 1) }
n880=    }
n881=    if ($did == 61) { %AMIPstrng = $did(61).sel }
n882=  }
n883=  if ($did == 62) { AMIPStyleReWrite }
n884=
n885=  if ($did == 71) { run www.irctoolz.com }
n886=  if ($did == 79) { AMIPminiPanel }
n887=  if ($did == 101) { if ($did(106) == $null) { %AMIP.y = %AMIP.y - 10 } | else { %AMIP.y = %AMIP.y - $did(106) } | window -c @AMIP_Panel | AMIPminiPanel }
n888=  if ($did == 102) { if ($did(106) == $null) { %AMIP.x = %AMIP.x - 10 } | else { %AMIP.x = %AMIP.x - $did(106) } | window -c @AMIP_Panel | AMIPminiPanel }
n889=  if ($did == 103) { if ($did(106) == $null) { %AMIP.x = %AMIP.x + 10 } | else { %AMIP.x = %AMIP.x + $did(106) } | window -c @AMIP_Panel | AMIPminiPanel }
n890=  if ($did == 104) { if ($did(106) == $null) { %AMIP.y = %AMIP.y + 10 } | else { %AMIP.y = %AMIP.y + $did(106) } | window -c @AMIP_Panel | AMIPminiPanel }
n891=  halt
n892=}
n893=menu @AMIP_Panel {
n894=  sclick:{
n895=    if ($inrect($mouse.x, $mouse.y, 0, 0, 17, 16) == $true) { dde mPlug control < }
n896=    if ($inrect($mouse.x, $mouse.y, 20, 0, 18, 16) == $true) { dde mPlug control play }
n897=    if ($inrect($mouse.x, $mouse.y, 40, 0, 18, 16) == $true) { dde mPlug control pause }
n898=    if ($inrect($mouse.x, $mouse.y, 60, 0, 18, 16) == $true) { dde mPlug control stop }
n899=    if ($inrect($mouse.x, $mouse.y, 80, 0, 18, 16) == $true) { dde mPlug control > }
n900=    if ($inrect($mouse.x, $mouse.y, 103, 0, 18, 16) == $true) { dde mPlug control vdwn }
n901=    if ($inrect($mouse.x, $mouse.y, 123, 0, 18, 16) == $true) { dde mPlug control vup }
n902=    if ($inrect($mouse.x, $mouse.y, 146, 0, 52, 16) == $true) { if ($dialog(WAPlaginControl) != WAPlaginControl) { dialog -mn WAPlaginControl WAPlaginControl } }
n903=    if ($inrect($mouse.x, $mouse.y, 203, 0, 8, 6) == $true) { window -c @AMIP_Panel }
n904=    if ($inrect($mouse.x, $mouse.y, 203, 8, 8, 6) == $true) { window -n @AMIP_Panel }
n905=  }
n906=}
n907=dialog AMIPchanADDhelp {
n908=  title "Как прописать каналы в AMIP"
n909=  option dbu
n910=  size -1 -1 145 145
n911=  button "ОК",10, 50 128 50 10, cancel
n912=  text "После нажатия на ''OK'' появиться панель настроек:",12, 5 5 140 8
n913=  text "тут впишите каналы",13, 2 20 50 14, center
n914=  text "кажый канал добавляется в список этой кнопкой",14, 65 16 70 14, center
n915=  icon 11, 10 31 125 100, $mircdirpics\AMIPchanADD.bmp, 1, noborder
n916=}
n917=on 1:dialog:AMIPchanADDhelp:sclick:10:{
n918=  run $shortfn(%WinAmpPath) | dde mPlug options
n919=}
n920=dialog AMIPchanADDQuest {
n921=  title "Вопрос..."
n922=  option dbu
n923=  size -1 -1 120 45
n924=  button "ДА",10, 10 15 50 10, ok
n925=  button "НЕТ",11, 61 15 49 10, cancel
n926=  text "Желаете прописать каналы сейчас?",12, 5 5 110 8, center
n927=  check "Больше не показывать этот диалог",13, 10 27 110 14
n928=}
n929=on 1:dialog:AMIPchanADDQuest:sclick:*:{
n930=  if ($did == 13) { if ($did(13).state == 1) { set %AMIPchanADDhelper off } | else { set %AMIPchanADDhelper on } }
n931=  if ($did == 10) {
n932=    if ($$?!="Помочь прописать каналы?" == $true) { dialog -mn AMIPchanADDhelp AMIPchanADDhelp }
n933=    else { run $shortfn(%WinAmpPath) | dde mPlug options }
n934=  }
n935=}
n936=dialog WinAmpIsNotAct {
n937=  title "Предуперждение"
n938=  option dbu
n939=  size -1 -1 120 60
n940=  text "Для работы с этим даилогом необходим запущеный WinAmp.exe. Хотите запустить его прямо сейчас?",10, 5 2 110 21, center
n941=  button "ДА",11, 10 25 50 10, ok
n942=  button "Нет",12, 61 25 49 10, cancel
n943=  text "Если у вас на компьютере не установлен проигрыватель WinAmp, Вы можете взять",13, 5 37 110 14, center
n944=  text "его",14, 18 50 10 7
n945=  link "здесь",15, 29 50 30 14
n946=  text "абсолютно бесплатно.",16, 46 50 60 7
n947=}
n948=on 1:dialog:WinAmpIsNotAct:dclick:15:{ run www.winamp.com }
n949=on 1:dialog:WinAmpIsNotAct:sclick:*:{
n950=  if ($did == 11) { 
n951=    if (%WinAmpPath != $null) { 
n952=      run $shortfn(%WinAmpPath) 
n953=      dialog -c WAPlaginControl
n954=      AMIPminiPanel 
n955=    }
n956=    if (%WinAmpPath == $null) {
n957=      set %WinAmpPath $sfile(C:\,Путь не установлен.Укажите Путь к Winamp.exe,Есть!) | did -i WAPlaginControl 63 1 %WinAmpPath | did -c WAPlaginControl 1
n958=    }
n959=  }
n960=  if ($did == 12) { dialog -c WAPlaginControl }
n961=
n962=}
n963=;;;;;;
n964=;===> NET Whois scaner
n965=;;;;;;
n966=dialog NetWhoIsScaner {
n967=  title "NEORA TrioN NETWhois Modul v1.1b"
n968=  option dbu
n969=  size 83 70 180 43
n970=  button "Закрыть",10, 130 29 43 10, cancel
n971=  text "Адрес или Nick:",12, 7 6 41 8
n972=  combo 13, 50 5 107 100, drop, edit, autohs
n973=  button "Del",14, 158 5 15 10, disable
n974=  text "WhoIs database:",15, 7 18 41 8
n975=  combo 16, 50 17 123 100, drop
n976=  button "IPv4",18, 7 29 20 10
n977=  button "Результат",17, 28 29 100 10, disable
n978=}
n979=on 1:dialog:NetWhoIsScaner:edit:13:{ 
n980=  if ($did(13) != $null) did -e $dname 14,17
n981=  if ($did(13) == $null) did -b $dname 14,17
n982=}
n983=on 1:dialog:NetWhoIsScaner:init:0:{
n984=  NetWsDbIns NetWhoIsScaner
n985=  did -c $dname 16 %NWsDBnum
n986=  NetWsAddrIns
n987=}
n988=on 1:dialog:NetWhoIsScaner:sclick:*:{
n989=  if ($did == 13)  { did -e $dname 14,17 }
n990=  if ($did == 14) { write -dw" $+ $did(13) $+ " $shortfn($mircdir) $+ texts\NetWsAddr.txt | did -r $dname 13 | NetWsAddrIns }
n991=  if ($did == 16) { 
n992=    set %NWsDBnum $did(16).sel 
n993=    if (%NWsDBnum == 1) { set %NWsDB whois.arin.net }
n994=    if (%NWsDBnum == 2) { set %NWsDB whois.ripe.net }
n995=    if (%NWsDBnum == 3) { set %NWsDB whois.apnic.net }
n996=    if (%NWsDBnum == 4) { set %NWsDB whois.arin.net }
n997=  }
n998=  if ($did == 17) {
n999=    if ($did(13) == $null) { halt }
n1000=    NWsScanStart $did(13)
n1001=    if ($read -w $+ $did(13) $shortfn($mircdir) $+ texts\NetWsAddr.txt != $did(13)) { 
n1002=      write $shortfn($mircdir) $+ texts\NetWsAddr.txt $did(13) 
n1003=      did -r $dname 13 | NetWsAddrIns
n1004=    }
n1005=    else { 
n1006=      write -dw $+ $did(13) $shortfn($mircdir) $+ texts\NetWsAddr.txt 
n1007=      write $shortfn($mircdir) $+ texts\NetWsAddr.txt $did(13) 
n1008=      did -r $dname 13 | NetWsAddrIns
n1009=    }
n1010=  }
n1011=  if ($did == 18) { 
n1012=    window -k0 @IPv4 
n1013=    var %IPv4Lines = $lines($mircdirtexts\IPv4.txt)
n1014=    var %IPv4Ind = 0
n1015=    :next
n1016=    inc %IPv4Ind
n1017=
n1018=    if (%IPv4Ind > %IPv4Lines) halt
n1019=    var %IPv4var $read -l $+ %IPv4Ind $shortfn($mircdir) $+ texts\IPv4.txt
n1020=    if (%IPv4var != $null) echo @IPv4 %IPv4var
n1021=    else { echo @IPv4 - }
n1022=    goto next
n1023=  }
n1024=}
n1025=#NWsScan off
n1026=on 1:DNS:{
n1027=  if ($iaddress == $null) { 
n1028=    echo 4 @NetWhois Невозможно определить IP для %NWsScanData
n1029=    echo 4 @NetWhois Сканирование остановлено
n1030=    .disable #NWsScan
n1031=    halt
n1032=  }
n1033=  set %NWsScanNICK $nick
n1034=  set %NWsScanADDR $iaddress
n1035=  set %NWsScanNAME $naddress
n1036=  echo @NetWhois *** Resolving Data:
n1037=  if (%NWsScanNICK != $null) { echo @NetWhois IRC Nick: %NWsScanNICK } | else { echo @NetWhois Nick: N/A }
n1038=  if (%NWsScanADDR != $null) { echo @NetWhois IP addr: %NWsScanADDR }
n1039=  if (%NWsScanNAME != $null) { echo @NetWhois Domain: %NWsScanNAME } | else { echo @NetWhois Domain: N/A }
n1040=  if ($sock(NWsScan*,0) == 0) { 
n1041=    if (%NWsDBnum == 4) { sockopen NWsScanFirst %NWsDB 43 }
n1042=    else { sockopen NWsScanDifer %NWsDB 43 }
n1043=    echo @NetWhois *** Start Scaning 
n1044=  }
n1045=  else { echo 4 @NetWhois Прежнее сканирование ещё не закончено! }
n1046=  .disable #NWsScan
n1047=}
n1048=#NWsScan end
n1049=on 1:sockopen:NWsScan*:{
n1050=  if ($window(@NetWhois) == $null) { sockclose NWsScan* | halt }
n1051=  if ($sockerr > 0) { echo 4 @NetWhois Socket: Open Error. Try again. | sockclose NWsScan* | halt }
n1052=  if (%NWsDBnum == 4) {
n1053=    if ($sockname == NWsScanFirst) { sockwrite -n NWsScanFirst %NWsScanADDR }
n1054=    elseif ($sockname == NWsScanRipe) { sockwrite -n NWsScanRipe %NWsScanADDR }
n1055=    elseif ($sockname == NWsScanAPNIC) { sockwrite -n NWsScanAPNIC %NWsScanADDR }
n1056=  }
n1057=  else { 
n1058=    if ($sockname == NWsScanDifer) { sockwrite -n NWsScanDifer %NWsScanADDR }
n1059=  }
n1060=}
n1061=on 1:sockread:NWsScan*:{
n1062=  if ($window(@NetWhois) == $null) { sockclose NWsScan* | halt }
n1063=  if ($sockerr > 0) { echo 4 @NetWhois Socket: Read Error. Try again. | sockclose NWsScan* | halt }
n1064=  sockread %NWsScanVar
n1065=  if ($sockname == NWsScanDifer) { 
n1066=    if (%NWsScanVar == $null) { echo @NetWhois - }
n1067=    echo @NetWhois %NWsScanVar 
n1068=  }
n1069=  if ($sockname == NWsScanFirst) {
n1070=    if (Netname: isin $gettok(%NWsScanVar,1,32)) {
n1071=      echo @NetWhois $gettok(%NWsScanVar,2-,32)
n1072=      if (RIPE isin $gettok(%NWsScanVar,2-,32)) { NWsAutoRIPE }
n1073=      elseif (APNIC isin $gettok(%NWsScanVar,2-,32)) { NWsAutoAPNIC }
n1074=      else { NWsAutoOther }
n1075=    }
n1076=    if (Netblock: isin $gettok(%NWsScanVar,1,32)) echo @NetWhois $gettok(%NWsScanVar,2-,32)
n1077=    if (%NWsScan2line == 2) { set %NWsScan2line 0 | echo @NetWhois %NWsScanVar | echo @NetWhois ============= }
n1078=    if (%NWsScan2line == 1) { echo @NetWhois %NWsScanVar | set %NWsScan2line 2 }
n1079=    if (Coordinator: isin $gettok(%NWsScanVar,1,32)) { set %NWsScan2line 1 }
n1080=  }
n1081=  elseif ($sockname == NWsScanRipe || $sockname == NWsScanAPNIC) {
n1082=    if (%NWsScanVar == $null) { halt }
n1083=    if ($gettok(%NWsScanVar,1,32) == inetnum:) { echo @NetWhois > $+  $gettok(%NWsScanVar,2-,32)  }
n1084=    if ($gettok(%NWsScanVar,1,32) == netname:) { echo @NetWhois > $gettok(%NWsScanVar,2-,32) }
n1085=    if ($gettok(%NWsScanVar,1,32) == descr:) { echo @NetWhois > $gettok(%NWsScanVar,2-,32) }
n1086=    if ($gettok(%NWsScanVar,1,32) == country:) { echo @NetWhois > $gettok(%NWsScanVar,2-,32) }
n1087=    if ($gettok(%NWsScanVar,1,32) == route:) { echo @NetWhois --------------------- | echo @NetWhois > $gettok(%NWsScanVar,2-,32) - route }
n1088=    if ($gettok(%NWsScanVar,1,32) == person: || $gettok(%NWsScanVar,1,32) == role:) { echo @NetWhois --------------------- | echo @NetWhois > $gettok(%NWsScanVar,2-,32) }
n1089=    if ($gettok(%NWsScanVar,1,32) == address:) { echo @NetWhois > $gettok(%NWsScanVar,2-,32) }
n1090=    if ($gettok(%NWsScanVar,1,32) == phone:) { echo @NetWhois > tel: $gettok(%NWsScanVar,2-,32) }
n1091=    if ($gettok(%NWsScanVar,1,32) == fax-no:) { echo @NetWhois > fax: $gettok(%NWsScanVar,2-,32) }
n1092=    if ($gettok(%NWsScanVar,1,32) == e-mail:) { echo @NetWhois > mail: $gettok(%NWsScanVar,2-,32) }
n1093=    if ($gettok(%NWsScanVar,1,32) == remarks:) { echo @NetWhois > remarks: $gettok(%NWsScanVar,2-,32) }
n1094=  }
n1095=}
n1096=on 1:sockclose:NWsScan*:{ 
n1097=  if ($sockname != NWsScanFirst) { echo @NetWhois - | echo @NetWhois *** End of Scan }
n1098=}
n1099=menu @NetWhois {
n1100=  $iif(($sock(NWsScan*,0) == 1),Закончить):sockclose NWsScan* | echo 4 @NetWhois *** Scaninig Abroded
n1101=  -
n1102=  Очистить:clear @NetWhois
n1103=  -
n1104=  Закрыть:window -c @NetWhois
n1105=}
n1106=;;;;;
n1107=;===> Telnet Terminal
n1108=;;;;;
n1109=dialog NeoTerminal {
n1110=  title "NeoRa Telnet Terminal v1.0"
n1111=  option dbu
n1112=  size 82 68 240 20
n1113=  button "Закрыть",10, 218 154 40 10, cancel
n1114=  text "IP(Host):",12, 5 5 20 8
n1115=  combo 13, 27 4 80 100, drop, edit
n1116=  text "Port:",14, 110 5 11 8
n1117=  edit "",15, 123 4 25 10
n1118=  button "Соединиться",16, 152 4 40 10, disable
n1119=  button "Настройки",17, 198 4 35 10
n1120=  button "Ок",18, 218 154 40 10, ok
n1121=}
n1122=on 1:dialog:NeoTerminal:*:*:{
n1123=  if ($devent == init && $did == 0) { TThostsIns | set %TermFullScr no }
n1124=  if ($devent == sclick) {
n1125=    if ($did == 17) { dialog -ma NeoTerminalOpt NeoTerminalOpt }
n1126=    if ($did == 16) { NeoTermOpen $did(13) $did(15) }
n1127=    if ($did == 10) { 
n1128=      window -c @NeoTerminal 
n1129=      sockclose TermSockName 
n1130=      set %TermFullScr no
n1131=    }
n1132=    if ($did == 18) { set %TermFullScr no }
n1133=    if ($did == 13) {
n1134=      var %TTnextPort = $read -l $+ $calc($lines($mircdirtexts\TelTermHist.txt) + 1 - $did(13).sel) $shortfn($mircdir) $+ texts\TelTermHist.txt
n1135=      did -i $dname 15 1 $gettok(%TTnextPort,2,32)
n1136=      did -e $dname 16
n1137=    }
n1138=  }
n1139=  if ($devent == edit) {
n1140=    if ($did(13) != $null && $did(15) != $null) { did -e $dname 16 }
n1141=    if ($chr(46) !isin $did(13)) { did -b $dname 16 }
n1142=  }
n1143=}
n1144=dialog NeoTerminalOpt {
n1145=  title "Настройка NeoRa Telnet Terminal"
n1146=  option dbu
n1147=  size -1 -1 160 85
n1148=  ;button "Закрыть",10, 218 154 40 10
n1149=  box "Общие",11, 2 2 156 43
n1150=  check "Режим ''Всегда на верху'' для NeoRa Telnet Terminal ",12, 7 12 140 8
n1151=  check "Вести историю последних десяти IP(Host)",13, 7 22 115 8
n1152=  button "Очистить",14, 125 21 28 9
n1153=  check "Протоколировать все сессии соединений",15, 7 32 116 8
n1154=  button "Смотреть",16, 125 31 28 9
n1155=  box "Подсказка",17, 2 46 156 25
n1156=  text "Для просмотра информации по NeoRa Telnet Terminal в окне терминала наберите команду TTHELP.",18, 7 53 145 16
n1157=  button "Ок",19, 125 73 28 10, ok
n1158=}
n1159=on 1:dialog:NeoTerminalOpt:init:0:{
n1160=  if (%TelTermMode == 1) { did -c $dname 12 }
n1161=  if (%TelTermHist == on) { did -c $dname 13 }
n1162=  if (%TelTermLog == on) { did -c $dname 15 }
n1163=}
n1164=on 1:dialog:NeoTerminalOpt:sclick:*:{
n1165=  if ($did(12).state == 1) { 
n1166=    set %TelTermMode 1
n1167=    var %TTLastHost = $did(NeoTerminal,13,0)
n1168=    var %TTLastPort = $did(NeoTerminal,15,1)
n1169=    dialog -k NeoTerminal 
n1170=    .timer -m 1 1 dialog -mo NeoTerminal NeoTerminal
n1171=    .timer -m 1 100 did -i NeoTerminal 13 0 %TTLastHost
n1172=    .timer -m 1 100 did -i NeoTerminal 15 1 %TTLastPort
n1173=    .timer -m 1 200  TTcheckButt
n1174=    window -ao @NeoTerminal
n1175=  } 
n1176=  else { 
n1177=    set %TelTermMode 0 
n1178=    var %TTLastHost = $did(NeoTerminal,13,0)
n1179=    var %TTLastPort = $did(NeoTerminal,15,1)
n1180=    dialog -k NeoTerminal 
n1181=    .timer -m 1 1 dialog -md NeoTerminal NeoTerminal
n1182=    .timer -m 1 100 did -i NeoTerminal 13 0 %TTLastHost
n1183=    .timer -m 1 100 did -i NeoTerminal 15 1 %TTLastPort
n1184=    .timer -m 1 200 TTcheckButt
n1185=    window -au @NeoTerminal
n1186=  }
n1187=  if ($did(13).state == 1) { set %TelTermHist on } | else { set %TelTermHist off }
n1188=  if ($did(15).state == 1) { set %TelTermLog on } | else { set %TelTermLog off }
n1189=
n1190=  if ($did == 14) { 
n1191=    var %TTdelNext = $lines($mircdirtexts\TelTermHist.txt) + 1
n1192=    :nextDel
n1193=    dec %TTdelNext 1
n1194=    if (%TTdelNext =< 0) { did -r NeoTerminal 13,15 | did -b NeoTerminal 16 | halt }
n1195=    write -d $shortfn($mircdir) $+ texts\TelTermHist.txt
n1196=    goto nextDel
n1197=  }
n1198=  if ($did == 16) { run $shortfn($mircdir) $+ texts\TelTermLog.txt }
n1199=  halt
n1200=}
n1201=on 1:sockopen:TermSockName:{
n1202=  if ($sockerr > 0) { 
n1203=    echo @NeoTerminal 4> Соеденение закрыто. SockOpen Error.
n1204=    if (%TelTermLog == on) { 
n1205=      write $shortfn($mircdir) $+ texts\TelTermLog.txt Соеденение закрыто. SockOpen Error.
n1206=      write $shortfn($mircdir) $+ texts\TelTermLog.txt <<<ЗАКРЫТИЕ СЕССИИ $date $time
n1207=    }
n1208=    did -i NeoTerminal 16 1 Соединиться 
n1209=  }
n1210=  else {
n1211=    echo @NeoTerminal 14> Соединение установлено
n1212=    echo @NeoTerminal 14-
n1213=    if (%TelTermLog == on) { 
n1214=      write $shortfn($mircdir) $+ texts\TelTermLog.txt Соединение установлено
n1215=      write $shortfn($mircdir) $+ texts\TelTermLog.txt -
n1216=    }
n1217=  }
n1218=}
n1219=on 1:sockread:TermSockName:{
n1220=  if ($sockerr > 0) { 
n1221=    echo @NeoTerminal 4> Соеденение закрыто. SockRead Error.
n1222=    if (%TelTermLog == on) { 
n1223=      write $shortfn($mircdir) $+ texts\TelTermLog.txt Соеденение закрыто. SockRead Error. 
n1224=      write $shortfn($mircdir) $+ texts\TelTermLog.txt <<<ЗАКРЫТИЕ СЕССИИ $date $time
n1225=    }
n1226=    did -i NeoTerminal 16 1 Соединиться 
n1227=  }
n1228=  sockread %TermRead
n1229=  echo @NeoTerminal 14> %TermRead
n1230=  if (%TelTermLog == on) { write $shortfn($mircdir) $+ texts\TelTermLog.txt %TermRead }
n1231=}
n1232=on 1:sockwrite:TermSockName:{
n1233=  if ($sockerr > 0) { 
n1234=    echo @NeoTerminal 4> Соеденение закрыто. SockWrite Error.
n1235=    if (%TelTermLog == on) { 
n1236=      write $shortfn($mircdir) $+ texts\TelTermLog.txt Соеденение закрыто. SockWrite Error.
n1237=      write $shortfn($mircdir) $+ texts\TelTermLog.txt <<<ЗАКРЫТИЕ СЕССИИ $date $time
n1238=    }
n1239=    did -i NeoTerminal 16 1 Соединиться 
n1240=  }
n1241=}
n1242=on 1:INPUT:@NeoTerminal:{
n1243=  if ($sock(TermSockName,1) == $null) { 
n1244=    if ($1 == tthelp) { TelTermHelp | halt }
n1245=    if ($1 == ttcomm) { TTCommands | halt }
n1246=    echo @NeoTerminal 4Ошибка! Отсутствует удалённое соединение.
n1247=    echo @NeoTerminal Наберите TTHELP для получения помощи.
n1248=    echo 14 @NeoTerminal -
n1249=    halt 
n1250=  }
n1251=  else {  
n1252=    if ($1 == tthelp) { TelTermHelp | halt }
n1253=    if ($1 == ttcomm) { TTCommands | halt }
n1254=    if ($1 == tttraf) { 
n1255=      echo 14 @NeoTerminal => $1- 
n1256=      echo @NeoTerminal Sent: $sock(TermSockName,1).sent byte
n1257=      echo @NeoTerminal Rcvd: $sock(TermSockName,1).rcvd byte
n1258=      echo @NeoTerminal Total: $calc($sock(TermSockName,1).sent + $sock(TermSockName,1).rcvd) byte
n1259=      echo 14 @NeoTerminal -
n1260=      halt 
n1261=    }
n1262=    if ($1 == tttime) { 
n1263=      echo 14 @NeoTerminal => $1-
n1264=      echo @NeoTerminal Connection time: $duration($sock(TermSockName,1).to)
n1265=      echo 14 @NeoTerminal -
n1266=      halt
n1267=    }
n1268=    if ($1 == ttaddr) { 
n1269=      echo 14 @NeoTerminal => $1-
n1270=      echo @NeoTerminal Addr: %TTaddr
n1271=      echo @NeoTerminal Port: %TTport
n1272=      echo 14 @NeoTerminal -
n1273=      halt
n1274=    }
n1275=    if ($1 == ttlast) { 
n1276=      echo 14 @NeoTerminal => $1-
n1277=      echo @NeoTerminal Last Send: $duration($sock(TermSockName,1).ls)
n1278=      echo @NeoTerminal Last Rcvd: $duration($sock(TermSockName,1).lr)
n1279=      echo 14 @NeoTerminal -
n1280=      halt
n1281=    }
n1282=    if ($1 == ttip) { 
n1283=      echo 14 @NeoTerminal => $1-
n1284=      echo @NeoTerminal IP address: $sock(TermSockName,1).ip
n1285=      halt
n1286=    }
n1287=    if ($1 == crlf) { echo 14 @NeoTerminal => crlf | .sockwrite -n TermSockName $crlf }
n1288=    else {
n1289=      echo 14 @NeoTerminal => $1-
n1290=      .sockwrite -n TermSockName $1- 
n1291=      if (%TelTermLog == on) { write $shortfn($mircdir) $+ texts\TelTermLog.txt => $1- }
n1292=      halt
n1293=    }
n1294=  }
n1295=}
n1296=on 1:sockclose:Term*:{
n1297=  did -i NeoTerminal 16 1 Соединиться
n1298=  echo @NeoTerminal 4> Соеденение закрыто удалённым хостом 
n1299=  if (%TelTermLog == on) { 
n1300=    write $shortfn($mircdir) $+ texts\TelTermLog.txt Соеденение закрыто удалённым хостом
n1301=    write $shortfn($mircdir) $+ texts\TelTermLog.txt <<<ЗАКРЫТИЕ СЕССИИ $date $time
n1302=  }
n1303=}
